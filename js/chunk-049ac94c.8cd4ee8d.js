(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-049ac94c"],{"00e8":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));n("a4d3"),n("e01a"),n("d3b7"),n("d28b"),n("3ca3"),n("ddb0");function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}n("d81d"),n("b64b");var r=function(e){var t=function e(t){Object.keys(t).map((function(n){if(t[n]===Object(t[n]))return e(t[n]),void(t[n]instanceof Array&&(t[n]=[]));var r=t[n];switch(a(r)){case"string":t[n]="";break;case"number":t[n]=0;break;case"object":t[n]=r instanceof Array?[]:{};break;case"boolean":t[n]=!1;break;default:t[n]=void 0;break}}))};t(e)}},"159b":function(e,t,n){var a=n("da84"),r=n("fdbc"),c=n("785a"),o=n("17c2"),i=n("9112"),l=function(e){if(e&&e.forEach!==o)try{i(e,"forEach",o)}catch(t){e.forEach=o}};for(var u in r)r[u]&&l(a[u]&&a[u].prototype);l(c)},"17c2":function(e,t,n){"use strict";var a=n("b727").forEach,r=n("a640"),c=r("forEach");e.exports=c?[].forEach:function(e){return a(this,e,arguments.length>1?arguments[1]:void 0)}},"3fa5":function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return c}));var a=n("7864"),r=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(){};a["b"].confirm(e,"警告",{confirmButtonText:"確定",cancelButtonText:"取消",type:"warning"}).then((function(e){r(e),Object(a["a"])({type:"success",message:t})})).catch((function(){Object(a["a"])({type:"info",message:n})}))},c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){};a["b"].alert("商品規格數量有誤，請重新填寫！","錯誤",{confirmButtonText:"確定",type:"warning"}).then((function(t){e(t)}))}},"885a":function(e,t,n){"use strict";n.r(t);n("b0c0");var a=n("7a23"),r={class:"user page row vertical"},c={class:"common_content row vertical"},o={class:"common_state","data-space-bottom":"2rem"},i={class:"row horizontal v_center"},l=Object(a["n"])("span",{"data-space-left":"1rem"},"帳號：",-1),u={"data-width":"40%"},b=Object(a["n"])("span",{"data-space-left":"1rem"},"信箱：",-1),s={"data-width":"40%"},d=Object(a["n"])("span",{"data-space-left":"1rem"},"姓名：",-1),f={"data-width":"40%"},m={class:"row horizontal h_end","data-width":"30%","data-space-right":"1rem"},O=Object(a["p"])("重置"),p=Object(a["p"])("搜尋"),j={class:"common_data"},g={class:"row horizontal v_center","data-space-bottom":"1rem"},v=Object(a["n"])("span",null,"每頁筆數：",-1),h={class:"table_data"},y={class:"row horizontal center"},w=Object(a["p"])("查看"),D=Object(a["p"])("刪除 "),L=Object(a["n"])("p",null,null,-1),q={class:"dialog-footer"},_=Object(a["p"])("關閉");function k(e,t,n,k,C,z){var S=Object(a["O"])("guideLine"),V=Object(a["O"])("el-input"),I=Object(a["O"])("el-button"),N=Object(a["O"])("el-pagination"),P=Object(a["O"])("el-table-column"),T=Object(a["O"])("el-table"),U=Object(a["O"])("el-form-item"),E=Object(a["O"])("el-form"),A=Object(a["O"])("el-dialog");return Object(a["H"])(),Object(a["m"])("div",r,[Object(a["q"])(S,{msg:"會員管理"}),Object(a["n"])("div",c,[Object(a["n"])("div",o,[Object(a["n"])("div",i,[l,Object(a["n"])("div",u,[Object(a["q"])(V,{modelValue:k.searchList.Account,"onUpdate:modelValue":t[0]||(t[0]=function(e){return k.searchList.Account=e}),clearable:"",size:"small",placeholder:"請輸入帳號"},null,8,["modelValue"])]),b,Object(a["n"])("div",s,[Object(a["q"])(V,{modelValue:k.searchList.Email,"onUpdate:modelValue":t[1]||(t[1]=function(e){return k.searchList.Email=e}),clearable:"",size:"small",placeholder:"請輸入信箱"},null,8,["modelValue"])]),d,Object(a["n"])("div",f,[Object(a["q"])(V,{modelValue:k.searchList.Name,"onUpdate:modelValue":t[2]||(t[2]=function(e){return k.searchList.Name=e}),clearable:"",size:"small",placeholder:"請輸入姓名"},null,8,["modelValue"])])]),Object(a["n"])("div",m,[Object(a["q"])(I,{type:"info",plain:"",size:"small",onClick:k.reset},{default:Object(a["db"])((function(){return[O]})),_:1},8,["onClick"]),Object(a["q"])(I,{type:"info","data-space-left":"0.5rem",size:"small",onClick:k.handleSearch},{default:Object(a["db"])((function(){return[p]})),_:1},8,["onClick"])])]),Object(a["n"])("div",j,[Object(a["n"])("div",g,[v,Object(a["n"])("div",null,[Object(a["q"])(N,{currentPage:k.searchList.Page,"page-size":k.searchList.PageLimit,layout:"sizes, total, prev, pager, next",total:k.state.userTableData.length,"page-sizes":[10,15,20,50],onSizeChange:k.sizeChange,onCurrentChange:k.pageChange,width:"900"},null,8,["currentPage","page-size","total","onSizeChange","onCurrentChange"])])]),Object(a["n"])("div",h,[Object(a["q"])(T,{data:k.state.userTableData,"default-sort":{prop:"ID",order:"descending"}},{default:Object(a["db"])((function(){return[Object(a["q"])(P,{prop:"ID",label:"id",width:"80",sortable:""}),Object(a["q"])(P,{prop:"Name",label:"會員姓名",width:"120"}),Object(a["q"])(P,{prop:"Account",label:"帳號",width:"120"}),Object(a["q"])(P,{prop:"Email",label:"信箱",width:"280"}),Object(a["q"])(P,{prop:"level",label:"會員等級"}),Object(a["q"])(P,{prop:"Consumption",label:"總消費",align:"center"}),Object(a["q"])(P,{label:"操作",width:"200",align:"center"},{default:Object(a["db"])((function(e){return[Object(a["n"])("div",y,[k.permissionsUse.detail?(Object(a["H"])(),Object(a["k"])(I,{key:0,type:"warning",plain:"",size:"small",onClick:function(t){return k.openMemberDialog(e.row)}},{default:Object(a["db"])((function(){return[w]})),_:2},1032,["onClick"])):Object(a["l"])("",!0),k.permissionsUse.delete?(Object(a["H"])(),Object(a["k"])(I,{key:1,type:"danger",plain:"",size:"small",onClick:function(t){return k.deleteUser(e.row)},"data-space-left":"0.5rem"},{default:Object(a["db"])((function(){return[D]})),_:2},1032,["onClick"])):Object(a["l"])("",!0)])]})),_:1})]})),_:1},8,["data"])]),Object(a["q"])(A,{modelValue:k.dialogUserVisible,"onUpdate:modelValue":t[4]||(t[4]=function(e){return k.dialogUserVisible=e}),title:"查看會員",width:"500px"},{footer:Object(a["db"])((function(){return[Object(a["n"])("span",q,[Object(a["q"])(I,{onClick:t[3]||(t[3]=function(e){return k.dialogUserVisible=!1})},{default:Object(a["db"])((function(){return[_]})),_:1})])]})),default:Object(a["db"])((function(){return[Object(a["q"])(E,null,{default:Object(a["db"])((function(){return[Object(a["q"])(U,{label:"會員姓名："},{default:Object(a["db"])((function(){return[Object(a["n"])("p",null,Object(a["S"])(k.state.userForm.name),1)]})),_:1}),Object(a["q"])(U,{label:"帳號/信箱："},{default:Object(a["db"])((function(){return[Object(a["n"])("p",null,Object(a["S"])(k.state.userForm.email),1)]})),_:1}),Object(a["q"])(U,{label:"會員等級："},{default:Object(a["db"])((function(){return[Object(a["n"])("p",null,Object(a["S"])(k.state.userForm.level),1)]})),_:1}),Object(a["q"])(U,{label:"收藏清單："},{default:Object(a["db"])((function(){return[L]})),_:1}),Object(a["q"])(N,{"page-size":10,"pager-count":11,layout:"prev, pager, next",total:k.state.memberfoversListLength},null,8,["total"]),Object(a["q"])(T,{data:k.state.memberDetailList.Favors},{default:Object(a["db"])((function(){return[Object(a["q"])(P,{prop:"GoodsID",label:"ID",width:"80"}),Object(a["q"])(P,{prop:"Goods.Name",label:"商品名稱",width:"200"}),Object(a["q"])(P,{prop:"Goods.GoodsType.Name",label:"商品分類"})]})),_:1},8,["data"])]})),_:1})]})),_:1},8,["modelValue"])])])])}var C=n("1da1"),z=n("b85c"),S=n("2909"),V=(n("96cf"),n("d3b7"),n("159b"),n("897e")),I=n("46ef"),N=n("3fa5"),P=n("408b"),T=n("00e8"),U={name:"User",components:{guideLine:V["a"]},setup:function(){var e=Object(a["K"])(!1),t=Object(a["K"])(""),n=Object(a["J"])({}),r=Object(a["J"])({userTableData:[],memberDetailList:[],memberfoversListLength:0,userForm:{name:"",email:"",level:""}}),c=Object(a["J"])({Page:1,PageLimit:10,Account:"",Email:"",Name:""}),o=Object(a["E"])((function(){var e={};Object(I["a"])(P["s"],e,(function(e){r.userTableData=Object(S["a"])(e.data.Data),p()}))})),i=function(t){e.value=!0,l(t.ID),r.userForm.name=t.Name,r.userForm.email=t.Email,r.userForm.level=t.level},l=function(e){var t={ID:e};Object(I["a"])(P["t"],t,(function(e){r.memberDetailList=e.data.Data,r.memberDetailList.Favors&&u()}))},u=function(){r.memberfoversListLength=r.memberDetailList.Favors.length;var e,t=Object(S["a"])(JSON.parse(localStorage.getItem("goodsInfo"))),n=Object(z["a"])(r.memberDetailList.Favors);try{for(n.s();!(e=n.n()).done;){var a=e.value;for(var c in t)a.GoodsID==t[c].ID&&(a.Goods.Name=t[c].Name,a.Goods.GoodsType.Name=t[c].GoodsType.Name)}}catch(o){n.e(o)}finally{n.f()}},b=function(e){Object(N["b"])("確定刪除會員資料嗎？","刪除成功","已取消刪除",(function(){var t={ID:e.ID};Object(I["a"])(P["j"],t,(function(){o()}))}))},s=function(e){c.Page=e-1,t.value="change",m()},d=function(e){t.value="change",c.PageLimit=e,c.Page-=1,m()},f=function(){n=c;var e=n;Object(I["a"])(P["s"],e,(function(e){c.Page+=1,t.value="",r.userTableData=Object(S["a"])(e.data.Data),p()}))},m=function(){var e=Object(C["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:"change"===t.value?f():(c.Page-=1,n=c,Object(I["a"])(P["s"],n,(function(e){r.userTableData=Object(S["a"])(e.data.Data),p(),c.Page+=1})));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),O=Object(a["i"])((function(){var e=JSON.parse(localStorage.getItem("userPermissions"));return{detail:e.member_manage_detail.Activity,delete:e.member_manage_del.Activity}})),p=function(){r.userTableData.forEach((function(e){var t=e.Consumption;e.level=t<5e3?"銅級會員":t<1e4?"銀級會員":t<2e4?"金級會員":"白金會員"}))},j=function(){o(),Object(T["a"])(c),c.Page=1,c.PageLimit=10};return{state:r,getMemberData:o,searchList:c,dialogUserVisible:e,permissionsUse:O,openMemberDialog:i,sizeChange:d,pageChange:s,getmemberDetailData:l,handleSearch:m,levelChange:p,deleteUser:b,reset:j}}},E=n("6b0d"),A=n.n(E);const F=A()(U,[["render",k]]);t["default"]=F},"897e":function(e,t,n){"use strict";var a=n("7a23"),r={class:"guide row horizontal space_between"},c={"data-space-right":"1rem"},o=Object(a["p"])("登出");function i(e,t,n,i,l,u){var b=Object(a["O"])("el-button");return Object(a["H"])(),Object(a["m"])("div",r,[Object(a["n"])("p",null,Object(a["S"])(i.pageName),1),Object(a["n"])("div",c,[Object(a["q"])(b,{type:"info",plain:"",size:"small",onClick:i.logout},{default:Object(a["db"])((function(){return[o]})),_:1},8,["onClick"])])])}var l=n("6c02"),u=n("5502"),b=n("3fa5"),s={name:"GuideLine",props:{msg:String},setup:function(e){var t=e.msg,n=Object(u["b"])(),a=Object(l["c"])(),r=function(){Object(b["b"])("確定要登出嗎？","已成功登出！","已取消",(function(){n.commit("userModules/LOGOUT",""),a.push({name:"Login"})}))};return{pageName:t,logout:r}}},d=n("6b0d"),f=n.n(d);const m=f()(s,[["render",i]]);t["a"]=m},a640:function(e,t,n){"use strict";var a=n("d039");e.exports=function(e,t){var n=[][e];return!!n&&a((function(){n.call(null,t||function(){return 1},1)}))}},b64b:function(e,t,n){var a=n("23e7"),r=n("7b0b"),c=n("df75"),o=n("d039"),i=o((function(){c(1)}));a({target:"Object",stat:!0,forced:i},{keys:function(e){return c(r(e))}})},b85c:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));n("a4d3"),n("e01a"),n("d3b7"),n("d28b"),n("3ca3"),n("ddb0"),n("d9e2");var a=n("06c5");function r(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=Object(a["a"])(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,c=function(){};return{s:c,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:c}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){l=!0,o=e},f:function(){try{i||null==n["return"]||n["return"]()}finally{if(l)throw o}}}}},d81d:function(e,t,n){"use strict";var a=n("23e7"),r=n("b727").map,c=n("1dde"),o=c("map");a({target:"Array",proto:!0,forced:!o},{map:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}})}}]);
//# sourceMappingURL=chunk-049ac94c.8cd4ee8d.js.map